---
slug: http/https
title: https 如何工作的
author: huy
author_title: 安全越来越重要
author_url: https://tomoyd.github.io
# author_image_url: https://tomoyd.github.io/img/tomo.png
tags: [https, 签名证书]
---

#### 非对称加密

1. 经过 A 公钥加密的信息，只有用 A 私钥解密
2. 有公钥的一方，可以确认信息由私钥加密的

#### 背景

http 数据传输时明文传输的，会导致数据被拦截后不安全

https 基于 ssl 加密后的通道进行运行的，数据传输是安全

1. 浏览器发送一个资源请求
2. 服务器发送公钥和 Global sign 签名证书
3. 浏览器认识 Global sign 的签名证书，知道你是要找到服务，用公钥加密随机密钥给服务器
4. 服务器我用私钥解密到了你的随机密钥，只有我们两个知道随机密钥，以后的数据传输都用你给的随机密钥对称加密进行传输
   > 对称加密消耗要少

#### 签字证书

1. 服务器创建了私钥和公钥，找签字机构进行签字认证
2. 签字机构有自己的私钥和公钥 进行签字颁发，所有有公钥的都知道我给你签字了，认识我的证书
3. 一般浏览器都有签字机构的公钥
